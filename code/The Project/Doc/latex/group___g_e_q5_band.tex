\hypertarget{group___g_e_q5_band}{\section{Graphic Audio Equalizer Example}
\label{group___g_e_q5_band}\index{Graphic Audio Equalizer Example@{Graphic Audio Equalizer Example}}
}
\begin{DoxyParagraph}{Description\-: }

\end{DoxyParagraph}
\begin{DoxyParagraph}{}
This example demonstrates how a 5-\/band graphic equalizer can be constructed using the Biquad cascade functions. A graphic equalizer is used in audio applications to vary the tonal quality of the audio.
\end{DoxyParagraph}
\begin{DoxyParagraph}{Block Diagram\-:}

\end{DoxyParagraph}
\begin{DoxyParagraph}{}
The design is based on a cascade of 5 filter sections.  Each filter section is 4th order and consists of a cascade of two Biquads. Each filter has a nominal gain of 0 d\-B (1.\-0 in linear units) and boosts or cuts signals within a specific frequency range. The edge frequencies between the 5 bands are 100, 500, 2000, and 6000 Hz. Each band has an adjustable boost or cut in the range of +/-\/ 9 d\-B. For example, the band that extends from 500 to 2000 Hz has the response shown below\-: 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
With 1 d\-B steps, each filter has a total of 19 different settings. The filter coefficients for all possible 19 settings were precomputed in M\-A\-T\-L\-A\-B and stored in a table. With 5 different tables, there are a total of 5 x 19 = 95 different 4th order filters. All 95 responses are shown below\-: 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Each 4th order filter has 10 coefficents for a grand total of 950 different filter coefficients that must be tabulated. The input and output data is in Q31 format. For better noise performance, the two low frequency bands are implemented using the high precision 32x64-\/bit Biquad filters. The remaining 3 high frequency bands use standard 32x32-\/bit Biquad filters. The input signal used in the example is a logarithmic chirp. 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
The array {\ttfamily band\-Gains} specifies the gain in d\-B to apply in each band. For example, if {\ttfamily band\-Gains=\{0, -\/3, 6, 4, -\/6\};} then the output signal will be\-: 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}

\end{DoxyParagraph}
\begin{DoxyNote}{Note}
The output chirp signal follows the gain or boost of each band. 
\end{DoxyNote}
\begin{DoxyParagraph}{}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Variables Description\-:}

\end{DoxyParagraph}
\begin{DoxyParagraph}{}
\begin{DoxyItemize}
\item {\ttfamily test\-Input\-\_\-f32} points to the input data \item {\ttfamily test\-Ref\-Output\-\_\-f32} points to the reference output data \item {\ttfamily test\-Output} points to the test output data \item {\ttfamily input\-Q31} temporary input buffer \item {\ttfamily output\-Q31} temporary output buffer \item {\ttfamily biquad\-State\-Band1\-Q31} points to state buffer for band1 \item {\ttfamily biquad\-State\-Band2\-Q31} points to state buffer for band2 \item {\ttfamily biquad\-State\-Band3\-Q31} points to state buffer for band3 \item {\ttfamily biquad\-State\-Band4\-Q31} points to state buffer for band4 \item {\ttfamily biquad\-State\-Band5\-Q31} points to state buffer for band5 \item {\ttfamily coeff\-Table} points to coefficient buffer for all bands \item {\ttfamily gain\-D\-B} gain buffer which has gains applied for all the bands\end{DoxyItemize}

\end{DoxyParagraph}
\begin{DoxyParagraph}{C\-M\-S\-I\-S D\-S\-P Software Library Functions Used\-:}

\end{DoxyParagraph}
\begin{DoxyParagraph}{}

\begin{DoxyItemize}
\item \hyperlink{group___biquad_cascade_d_f1__32x64_ga44900cecb8083afcaabf905ffcd656bb}{arm\-\_\-biquad\-\_\-cas\-\_\-df1\-\_\-32x64\-\_\-init\-\_\-q31()}
\item \hyperlink{group___biquad_cascade_d_f1__32x64_ga953a83e69685de6575cff37feb358a93}{arm\-\_\-biquad\-\_\-cas\-\_\-df1\-\_\-32x64\-\_\-q31()}
\item \hyperlink{group___biquad_cascade_d_f1_gaf42a44f9b16d61e636418c83eefe577b}{arm\-\_\-biquad\-\_\-cascade\-\_\-df1\-\_\-init\-\_\-q31()}
\item \hyperlink{group___biquad_cascade_d_f1_ga27b0c54da702713976e5202d20b4473f}{arm\-\_\-biquad\-\_\-cascade\-\_\-df1\-\_\-q31()}
\item \hyperlink{group__scale_ga83e36cd82bf51ce35406a199e477d47c}{arm\-\_\-scale\-\_\-q31()}
\item \hyperlink{group__scale_ga3487af88b112f682ee90589cd419e123}{arm\-\_\-scale\-\_\-f32()}
\item \hyperlink{group__float__to__x_ga177704107f94564e9abe4daaa36f4554}{arm\-\_\-float\-\_\-to\-\_\-q31()}
\item \hyperlink{group__q31__to__x_gacf407b007a37da18e99dabd9023c56b4}{arm\-\_\-q31\-\_\-to\-\_\-float()}
\end{DoxyItemize}
\end{DoxyParagraph}
{\bfseries  Refer } \hyperlink{arm_graphic_equalizer_example_q31_8c-example}{arm\-\_\-graphic\-\_\-equalizer\-\_\-example\-\_\-q31.\-c} 